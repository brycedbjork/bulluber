(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{23:function(n,t){n.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAASCAYAAAA6yNxSAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADDSURBVHgBzZVRDcIwFEVvCQKQUBwgZSgAFGwOFhQgAQk4AAcMBQwFZAp43EI/6GMhfNDHTnKXdPs4N3ttCvwQEfHMQZ7UsIbSQlI2sITCCdOqEtvwHlbEMegSzRBKhLWHFXEczRBK7D6VcHE2BfISjqR/WV+YuXPuFAq06qMVHTMd8WG3O1Me3jGzYkrkxeP9L685gg654YgXahPemAoWUFT2yJewgKJaya/MDBb0yM//lntYIekdYCuPBSrmyOy/kd8B9VlBOeFMolkAAAAASUVORK5CYII="},27:function(n,t,e){n.exports=e(51)},48:function(n,t,e){n.exports=e.p+"static/media/heart.0c4f6f54.png"},49:function(n,t){n.exports="data:image/png;base64,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"},50:function(n,t,e){n.exports=e.p+"static/media/google.8ec68519.png"},51:function(n,t,e){"use strict";e.r(t);var r=e(1),o=e.n(r),i=e(16),a=e.n(i),u=e(8),c=e(9),s=e(13),l=e(10),p=e(12),f=e(5),d=e(3),h=e(7),m=e(6),g=e.n(m),b={apiKey:"AIzaSyDTPFvUjlF3csgjz3QZaMoeDA6Xi4FLWak",authDomain:"bulluber-a9d07.firebaseapp.com",databaseURL:"https://bulluber-a9d07.firebaseio.com",projectId:"bulluber-a9d07",storageBucket:"bulluber-a9d07.appspot.com",messagingSenderId:"1015894110074"};g.a.initializeApp(b);var x=g.a.firestore();x.settings({timestampsInSnapshots:!0});var v=new g.a.auth.GoogleAuthProvider,A=function(n,t,e){return new Promise(function(r,o){x.collection("groups").where("community","==",t).where("name","==",n).get().then(function(i){i.empty?x.collection("groups").add({name:n,community:t,createdBy:e,timestamp:g.a.firestore.Timestamp.now().toMillis()}).then(function(n){w(n.id,e).then(function(){r(n.id)}).catch(function(n){return o(n)})}).catch(function(n){return o(n)}):r("Group with name already exists")}).catch(function(n){return o(n)})})},w=function(n,t){return new Promise(function(e,r){var o=x.collection("memberships");o.where("groupId","==",n).where("uid","==",t).get().then(function(i){i.empty?o.add({groupId:n,uid:t}).then(function(n){e(n.id)}).catch(function(n){return r(n)}):r("Already a member of this group!")})})},y=function(){return new Promise(function(n,t){g.a.auth().signInWithPopup(v).then(function(e){var r={uid:e.user.uid,email:e.user.email,name:e.user.displayName,community:e.user.email.split("@")[1]};j(r.uid,r.name,r.community,r.email).then(function(){var e,o;(e=r.community,o=r.uid,new Promise(function(n,t){x.collection("groups").where("community","==",e).where("name","==","General").get().then(function(r){r.empty?A("General",e,o).then(function(t){n(t)}).catch(function(n){return t(n)}):n(r.docs[0].id)}).catch(function(n){return t(n)})})).then(function(t){n({user:r,groupId:t})}).catch(function(n){return t(n)})}).catch(function(n){return t(n)})}).catch(function(n){return t(n)})})},j=function(n,t,e,r){return new Promise(function(o,i){x.collection("users").doc(n).get().then(function(a){a.exists?o("User already exists"):x.collection("users").doc(n).set({name:t,community:e,email:r},{merge:!0}).then(function(){o()}).catch(function(n){return i(n)})}).catch(function(n){return i(n)})})},O=e(4),G="#131727",E="#9E9E9E",k="#314AA4",S=e(15);function B(){var n=Object(d.a)(["\n  height: 14px;\n  width: auto;\n"]);return B=function(){return n},n}function I(){var n=Object(d.a)(["\n  background-color: ",";\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  padding: 10px;\n  transition: all 150ms cubic-bezier(0.21, 0.94, 0.64, 0.99);\n  :hover {\n    cursor: default;\n    transform: scale(1.1);\n    color: ",";\n  }\n  border-radius: 10px;\n  position: absolute;\n  right: 5px;\n  top: 5px;\n\n"]);return I=function(){return n},n}function C(){var n=Object(d.a)(["\n  padding: 10px;\n  border: 1px solid rgba(19, 23, 39, 0.1);\n  font-size: 20px;\n  border-radius: 10px;\n  background-color: transparent;\n  outline: none;\n  width: 100%;\n  font-weight: 500;\n  padding-right: 55px;\n"]);return C=function(){return n},n}function P(){var n=Object(d.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n  width: 100%;\n  box-sizing: border-box;\n  position: relative;\n"]);return P=function(){return n},n}function z(){var n=Object(d.a)(["\n  padding-top: 10px;\n  padding-bottom: 10px;\n  font-family: Avenir;\n  font-style: normal;\n  font-weight: 800;\n  line-height: normal;\n  font-size: 20px;\n  color: rgba(19, 23, 39, 0.3);\n  transition: all 150ms cubic-bezier(0.21, 0.94, 0.64, 0.99);\n  :hover {\n    cursor: default;\n    transform: scale(1.03);\n    color: ",";\n  }\n"]);return z=function(){return n},n}function F(){var n=Object(d.a)(["\n  padding-top: 10px;\n  padding-bottom: 10px;\n  font-family: Avenir;\n  font-style: normal;\n  font-weight: 800;\n  line-height: normal;\n  font-size: 20px;\n  color: ",";\n  transition: all 150ms cubic-bezier(0.21, 0.94, 0.64, 0.99);\n  :hover {\n    cursor: default;\n    transform: scale(1.03);\n    color: ",";\n  }\n"]);return F=function(){return n},n}function Y(){var n=Object(d.a)(["\n  font-weight: 700;\n  line-height: normal;\n  font-size: 20px;\n"]);return Y=function(){return n},n}function Q(){var n=Object(d.a)(["\n  height: 22px;\n  padding-top: 40px;\n  padding-bottom: 30px;\n  box-sizing: border-box;\n  font-family: Avenir;\n  font-style: normal;\n  font-weight: 800;\n  line-height: normal;\n  font-size: 16px;\n  color: #131727;\n"]);return Q=function(){return n},n}function M(){var n=Object(d.a)(["\n  height: 22px;\n  padding-bottom: 30px;\n  box-sizing: border-box;\n  font-family: Avenir;\n  font-style: normal;\n  font-weight: 800;\n  line-height: normal;\n  font-size: 16px;\n  color: #131727;\n"]);return M=function(){return n},n}function T(){var n=Object(d.a)(["\n  width: 320px;\n  position: fixed;\n  left: 0;\n  top: 80px;\n  background: rgba(49, 74, 164, 0.05);\n  margin-right: 40px;\n  padding: 40px;\n  height: 100%;\n  box-sizing: border-box;\n"]);return T=function(){return n},n}var K=O.a.div(T()),X=O.a.div(M()),H=O.a.div(Q()),U=O.a.p(Y()),q=O.a.div(F(),function(n){return n.active?k:"rgba(19, 23, 39, 0.6)"},k),D=(O.a.div(z(),k),O.a.div(P())),R=O.a.input(C()),J=O.a.div(I(),k,k),V=O.a.img(B()),W=function(n){function t(n){var e;return Object(u.a)(this,t),(e=Object(s.a)(this,Object(l.a)(t).call(this,n))).state={userGroups:{},communityGroups:{},createGroupText:""},e.handleCreateGroup=e.handleCreateGroup.bind(Object(f.a)(Object(f.a)(e))),e.watchGroups=e.watchGroups.bind(Object(f.a)(Object(f.a)(e))),e}return Object(p.a)(t,n),Object(c.a)(t,[{key:"handleCreateGroup",value:function(){var n=this;A(this.state.createGroupText,this.props.user.community,this.props.user.uid).then(function(t){n.setState({createGroupText:""})}).catch(function(n){alert("Sorry, we couldn't create the group")})}},{key:"watchGroups",value:function(n,t){var e=this;!function(n,t,e){var r=[];x.collection("memberships").where("uid","==",n).onSnapshot(function(n){for(var o=0;o<r.length;o++)r.pop()();n.docs.forEach(function(n){r.push(x.collection("groups").doc(n.data().groupId).onSnapshot(function(n){t(n.id,n.data())},function(n){return e(n)}))})},function(n){return e(n)})}(n,function(n,t){e.setState(function(e){return Object(h.a)({},e,{userGroups:Object(h.a)(Object(S.a)({},n,t),e.userGroups)})})},function(n){alert("An error occurred: "+n)}),function(n,t,e){x.collection("groups").where("community","==",n).onSnapshot(function(n){n.docs.forEach(function(n){t(n.id,n.data())})},function(n){return e(n)})}(t,function(n,t){e.setState(function(e){return Object(h.a)({},e,{communityGroups:Object(h.a)(Object(S.a)({},n,t),e.communityGroups)})})},function(n){alert("An error occurred: "+n)})}},{key:"componentDidMount",value:function(){this.props.user.uid&&this.watchGroups(this.props.user.uid,this.props.user.community)}},{key:"componentWillReceiveProps",value:function(n){n.user.uid&&this.watchGroups(n.user.uid,n.user.community)}},{key:"render",value:function(){for(var n=this,t=[],r=function(e){var r=Object.keys(n.state.userGroups)[e],i=n.state.userGroups[r];t.push(o.a.createElement(q,{key:"groupOption"+r,active:n.props.activeGroup.id==r,onClick:function(){return n.props.updateActiveGroup(r,i.name)}},i.name))},i=0;i<Object.keys(this.state.userGroups).length;i++)r(i);var a=[],u=function(t){var e=Object.keys(n.state.communityGroups)[t],r=n.state.communityGroups[e];n.state.userGroups[e]||a.push(o.a.createElement(q,{key:"groupJoinOption"+e,onClick:function(){w(e,n.props.uid).then(function(){}).catch(function(n){alert("Could not join group: "+n)})}},r.name))};for(i=0;i<Object.keys(this.state.communityGroups).length;i++)u(i);return o.a.createElement(K,null,o.a.createElement(X,null,"Your Groups"),this.props.user.uid&&t,!this.props.user.uid&&o.a.createElement(U,null,"Sign in to view your groups"),this.props.user.uid&&a.length>0&&o.a.createElement(H,null,"Join Groups"),this.props.user.uid&&a,this.props.user.uid&&o.a.createElement(H,null,"Create Group"),this.props.user.uid&&o.a.createElement(D,null,o.a.createElement(R,{onChange:function(t){n.setState({createGroupText:t.target.value})},placeholder:"name",value:this.state.createGroupText}),o.a.createElement(J,{onClick:this.handleCreateGroup},o.a.createElement(V,{src:e(23)}))))}}]),t}(r.Component);function L(){var n=Object(d.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-weight: 600;\n"]);return L=function(){return n},n}function N(){var n=Object(d.a)(["\n  position: absolute;\n  bottom: 20px;\n  right: 20px;\n  font-size: 16px;\n  color: ",";\n"]);return N=function(){return n},n}function Z(){var n=Object(d.a)(["\n  height: 16px;\n  width: auto;\n  margin-right: 5px;\n"]);return Z=function(){return n},n}function $(){var n=Object(d.a)(["\n  font-size: 18px;\n  font-weight: 500;\n  color: ",";\n"]);return $=function(){return n},n}function _(){var n=Object(d.a)(["\n  width: 500px;\n  box-sizing: border-box;\n  padding: 20px;\n  margin-bottom: 40px;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n  position: relative;\n  min-height: 160px;\n  border-radius: 10px;\n  border: 1px solid rgba(19, 23, 39, 0.1);\n  transition: all 150ms cubic-bezier(0.21, 0.94, 0.64, 0.99);\n  :hover {\n    cursor: default;\n    transform: scale(1.03);\n  }\n"]);return _=function(){return n},n}function nn(){var n=Object(d.a)(["\n  height: 12px;\n  width: auto;\n  margin-left: 10px;\n"]);return nn=function(){return n},n}function tn(){var n=Object(d.a)(["\n  padding: 10px 20px 10px 20px;\n  background-color: ",";\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n  align-items: center;\n  color: #ffffff;\n  font-weight: 600;\n  font-size: 18px;\n  border-radius: 10px;\n  transition: all 150ms cubic-bezier(0.21, 0.94, 0.64, 0.99);\n  :hover {\n    cursor: default;\n    transform: scale(1.05);\n  }\n"]);return tn=function(){return n},n}function en(){var n=Object(d.a)(["\n  font-size: 16px;\n  font-weight: 500;\n  color: ",";\n"]);return en=function(){return n},n}function rn(){var n=Object(d.a)(["\n  position: absolute;\n  display: flex;\n  flex-direction: row;\n  align-items: flex-end;\n  justify-content: space-between;\n  padding: 20px;\n  bottom: 0;\n  width: 100%;\n  box-sizing: border-box;\n"]);return rn=function(){return n},n}function on(){var n=Object(d.a)(["\n  resize: none;\n  width: 500px;\n  height: 200px;\n  outline: none;\n  border-radius: 10px;\n  font-size: 20px;\n  line-height: 24px;\n  font-weight: 600;\n  padding: 20px;\n  padding-bottom: 60px;\n  box-sizing: border-box;\n  border: 1px solid rgba(19, 23, 39, 0.1);\n"]);return on=function(){return n},n}function an(){var n=Object(d.a)(["\n  width: 500px;\n  height: 200px;\n  position: relative;\n  margin-bottom: 40px;\n"]);return an=function(){return n},n}function un(){var n=Object(d.a)(["\n  font-size: 36px;\n  font-weight: 600;\n  color: ",";\n  margin-bottom: 40px;\n"]);return un=function(){return n},n}function cn(){var n=Object(d.a)(["\n  padding: 40px;\n  flex: 1;\n  box-sizing: border-box;\n  padding-left: 360px;\n  position: relative;\n"]);return cn=function(){return n},n}var sn=O.a.div(cn()),ln=O.a.h1(un(),G),pn=O.a.div(an()),fn=O.a.textarea(on()),dn=O.a.div(rn()),hn=O.a.p(en(),E),mn=O.a.div(tn(),k),gn=O.a.img(nn()),bn=O.a.div(_()),xn=O.a.p($(),G),vn=O.a.img(Z()),An=O.a.p(N(),E),wn=O.a.div(L()),yn=function(n){var t=n.content,r=n.likes,i=n.authorInitials,a=n.liked,u=n.onClick;return o.a.createElement(bn,{onClick:u},o.a.createElement(xn,null,t),o.a.createElement(wn,null,o.a.createElement(vn,{src:e(a?48:49)}),r),o.a.createElement(An,null,"-",i))},jn=function(n){function t(n){var e;return Object(u.a)(this,t),(e=Object(s.a)(this,Object(l.a)(t).call(this,n))).state={posts:[],createPostText:""},e.handlePost=e.handlePost.bind(Object(f.a)(Object(f.a)(e))),e.watchPosts=e.watchPosts.bind(Object(f.a)(Object(f.a)(e))),e}return Object(p.a)(t,n),Object(c.a)(t,[{key:"watchPosts",value:function(n){var t=this;!function(n,t,e){x.collection("posts").where("groupId","==",n).orderBy("timestamp","desc").onSnapshot(function(n){var e=[];n.docs.forEach(function(n){e.push(Object(h.a)({id:n.id},n.data()))}),t(e)},function(n){return e(n)})}(n,function(n){t.setState({posts:n})},function(n){alert("Could not get posts: "+n)})}},{key:"componentDidMount",value:function(){this.props.activeGroup.id&&this.watchPosts(this.props.activeGroup.id)}},{key:"componentWillReceiveProps",value:function(n){n.activeGroup.id&&this.watchPosts(n.activeGroup.id)}},{key:"handlePost",value:function(){var n,t,e,r,o=this;this.props.user.uid&&this.props.activeGroup.id?""!=this.state.createPostText?(n=this.props.user.uid,t=this.props.user.name,e=this.props.activeGroup.id,r=this.state.createPostText,new Promise(function(o,i){x.collection("posts").add({userId:n,authorInitials:t.split(" ").map(function(n){return n[0]}).join(""),groupId:e,content:r,likedBy:[],timestamp:g.a.firestore.Timestamp.now().toMillis()}).then(function(n){o(n.id)}).catch(function(n){return i(n)})})).then(function(){o.setState({createPostText:""})}).catch(function(n){alert("Could not post: "+n)}):alert("You cannot post a blank message"):alert("You must be signed in to post")}},{key:"render",value:function(){for(var n=this,t=[],r=function(e){var r=n.state.posts[e];t.push(o.a.createElement(yn,{content:r.content,likes:r.likedBy.length,authorInitials:r.authorInitials,liked:r.likedBy.includes(n.props.user.uid),onClick:function(){var t,e;(t=n.props.user.uid,e=r.id,new Promise(function(n,r){console.log(t,e),x.collection("posts").doc(e).get().then(function(o){var i=o.data().likedBy;if(o.data().likedBy.includes(t)){var a=i.indexOf(t);-1!==a&&i.splice(a,1)}else i.push(t);x.collection("posts").doc(e).update({likedBy:i}).then(function(){return n()}).catch(function(n){return r(n)})}).catch(function(n){return r(n)})})).then(function(){}).catch(function(n){alert("could not like post"),console.log(n)})}}))},i=0;i<this.state.posts.length;i++)r(i);return o.a.createElement(sn,null,o.a.createElement(ln,null,this.props.activeGroup.name||"Sign in to start"),o.a.createElement(pn,null,o.a.createElement(fn,{onChange:function(t){n.setState({createPostText:t.target.value})},placeholder:"what's up? let's talk",value:this.state.createPostText}),o.a.createElement(dn,null,o.a.createElement(hn,null,"in ",this.props.activeGroup.name||"General"),o.a.createElement(mn,{onClick:this.handlePost},"Post",o.a.createElement(gn,{src:e(23)})))),t)}}]),t}(r.Component);function On(){var n=Object(d.a)(["\n  font-size: 20px;\n  color: ",";\n  font-weight: 500;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  transition: all 150ms cubic-bezier(0.21, 0.94, 0.64, 0.99);\n  :hover {\n    cursor: default;\n    transform: scale(1.03);\n  }\n"]);return On=function(){return n},n}function Gn(){var n=Object(d.a)(["\n  padding-top: 80px;\n  display: flex;\n  flex-direction: row;\n  width: 100%;\n  height: 100%;\n  position: relative;\n"]);return Gn=function(){return n},n}function En(){var n=Object(d.a)(["\n  height: 28px;\n  width: auto;\n  margin-top: 5px;\n  margin-left: 10px;\n"]);return En=function(){return n},n}function kn(){var n=Object(d.a)(["\n  font-size: 20px;\n  font-weight: 500;\n  color: ",";\n  margin-left: 10px;\n"]);return kn=function(){return n},n}function Sn(){var n=Object(d.a)(["\n  font-size: 24px;\n  font-weight: 600;\n  color: ",";\n"]);return Sn=function(){return n},n}function Bn(){var n=Object(d.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: flex-end;\n"]);return Bn=function(){return n},n}function In(){var n=Object(d.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: flex-start;\n"]);return In=function(){return n},n}function Cn(){var n=Object(d.a)(["\n  z-index: 100;\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  height: 80px;\n  box-sizing: border-box;\n  padding-top: 20px;\n  padding-bottom: 20px;\n  padding-left: 40px;\n  padding-right: 40px;\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  background-color: #ffffff;\n  align-items: center;\n  justify-content: space-between;\n  box-shadow: rgba(19, 23, 39, 0.1) 0px 2px 20px 0px;\n"]);return Cn=function(){return n},n}function Pn(){var n=Object(d.a)(["\n  margin: 40px;\n  font-size: 24px;\n  padding: 10px;\n  :focus {\n    outline: none;\n  }\n"]);return Pn=function(){return n},n}function zn(){var n=Object(d.a)(["\n  font-size: 20px;\n  border: none;\n  font-weight: 600;\n  :focus {\n    outline: none;\n  }\n"]);return zn=function(){return n},n}function Fn(){var n=Object(d.a)(["\n  margin: 40px;\n  font-size: 24px;\n  padding: 10px;\n"]);return Fn=function(){return n},n}function Yn(){var n=Object(d.a)(["\n  width: 100%;\n  min-height: 800px;\n  box-sizing: border-box;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: center;\n  height: 100%;\n"]);return Yn=function(){return n},n}var Qn=O.a.div(Yn()),Mn=(O.a.button(Fn()),O.a.button(zn())),Tn=(O.a.button(Pn()),O.a.div(Cn())),Kn=O.a.div(In()),Xn=O.a.div(Bn()),Hn=O.a.h1(Sn(),G),Un=O.a.h2(kn(),E),qn=O.a.img(En()),Dn=O.a.div(Gn()),Rn=O.a.div(On(),G),Jn=function(n){function t(n){var e;return Object(u.a)(this,t),(e=Object(s.a)(this,Object(l.a)(t).call(this,n))).userInitialState={uid:null,email:null,name:null,community:null},e.state={user:e.userInitialState,activeGroup:{id:null,name:null}},e.updateActiveGroup=e.updateActiveGroup.bind(Object(f.a)(Object(f.a)(e))),e}return Object(p.a)(t,n),Object(c.a)(t,[{key:"updateActiveGroup",value:function(n,t){this.setState({activeGroup:{id:n,name:t}})}},{key:"render",value:function(){var n=this;return o.a.createElement(Qn,null,o.a.createElement(Dn,null,o.a.createElement(jn,{user:this.state.user,activeGroup:this.state.activeGroup})),o.a.createElement(W,{user:this.state.user,activeGroup:this.state.activeGroup,updateActiveGroup:this.updateActiveGroup}),o.a.createElement(Tn,null,o.a.createElement(Kn,null,o.a.createElement(Hn,null,"bulluber"),o.a.createElement(Un,null,"community talk.")),o.a.createElement(Xn,null,o.a.createElement(Mn,{value:"Submit",onClick:function(){n.state.uid?new Promise(function(n,t){g.a.auth().signOut().then(function(t){n()}).catch(function(n){return t(n)})}).then(function(){n.setState({user:n.userInitialState})}).catch(function(n){alert("An error occurred while logging out"),console.log(n)}):y().then(function(t){n.setState({user:t.user,activeGroup:{id:t.groupId,name:"General"}})}).catch(function(n){alert("An error occurred while logging in"),console.log(n)})}},this.state.user.uid&&o.a.createElement(Rn,null,this.state.user.name," (logout)"),!this.state.user.uid&&o.a.createElement(Rn,null,"sign in with ",o.a.createElement(qn,{src:e(50)}))))))}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a.a.render(o.a.createElement(Jn,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(n){n.unregister()})}},[[27,2,1]]]);
//# sourceMappingURL=main.de7dfeed.chunk.js.map